# サンプリング手法 - 四択問題2

## 問題
**Temperature パラメータ**がテキスト生成に与える影響として最も適切なものはどれですか。

## 選択肢
A. 値が高いほど決定論的で予測可能な出力になる

B. 値が低いほど多様性が増し、創造的な出力になる

C. 値が高いほど多様性が増し、値が低いほど決定論的になる

D. 値に関係なく出力の品質は一定である

## 正解
**C**

## 解説
**Temperature パラメータ**は、言語モデルの確率分布を調整することで、生成されるテキストの**多様性と決定論性のバランス**を制御する重要なハイパーパラメータです。

**Temperature の数学的効果**
確率分布の調整式：`P'(x_i) = exp(logits_i / T) / Σ exp(logits_j / T)`

**Temperature 値による影響**

**高い Temperature（T > 1.0）**
- **確率分布の平坦化**：各トークンの確率差が縮小
- **多様性の増加**：低確率トークンも選択されやすくなる
- **創造性の向上**：予想外の組み合わせや表現が生成される
- **一貫性の低下**：文脈から逸脱する可能性が増加

**低い Temperature（T < 1.0）**
- **確率分布の尖鋭化**：高確率トークンがより選択されやすくなる
- **決定論性の向上**：予測可能で一貫した出力
- **安全性の向上**：文脈に沿った適切な応答
- **創造性の制限**：新規性や多様性が制限される

**極端な値の効果**
- **T → 0**：最高確率トークンのみ選択（Greedy Decoding）
- **T → ∞**：均等分布に近づく（Random Sampling）

**実用的な設定指針**
- **創造的タスク**：T = 0.7-1.2（小説、詩、ブレインストーミング）
- **事実的タスク**：T = 0.1-0.5（要約、翻訳、質問応答）
- **バランス型**：T = 0.6-0.8（一般的な対話、説明）

**最新の研究動向（2024年）**
ICLR 2025で発表された研究では、Min-p サンプリングと組み合わせることで、T = 2.0-3.0の高温度でも一貫性を保ちながら創造性を向上させることが可能になっています。従来のTop-p サンプリングでは高温度で品質が大幅に低下していましたが、Min-p サンプリングは動的閾値調整により、高温度設定でも実用的な品質を維持できることが実証されています。 